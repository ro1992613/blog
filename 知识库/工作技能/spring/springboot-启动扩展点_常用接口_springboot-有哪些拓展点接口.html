<!DOCTYPE html> <html><head>
<title>SpringBoot 启动扩展点_常用接口_springboot 有哪些拓展点接口</title>
<base href="../../..">
<meta id="root-path" root-path="../../..">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes, minimum-scale=1.0, maximum-scale=5.0">
<meta charset="UTF-8">
<meta name="description" content="笔记 - SpringBoot 启动扩展点_常用接口_springboot 有哪些拓展点接口">
<meta property="og:title" content="SpringBoot 启动扩展点_常用接口_springboot 有哪些拓展点接口">
<meta property="og:description" content="笔记 - SpringBoot 启动扩展点_常用接口_springboot 有哪些拓展点接口">
<meta property="og:type" content="website">
<meta property="og:url" content="知识库/工作技能/spring/springboot-启动扩展点_常用接口_springboot-有哪些拓展点接口.html">
<meta property="og:image" content="attachments/b263be4b3833ff3d6ef91a4bb82612c0_md5.png">
<meta property="og:site_name" content="笔记">
<script async="" id="webpage-script" src="lib/scripts/webpage.js" onload="this.onload=null;this.setAttribute(&quot;loaded&quot;, &quot;true&quot;)"></script><script type="module" async="" id="graph-view-script" src="lib/scripts/graph-view.js"></script><script async="" id="graph-wasm-script" src="lib/scripts/graph-wasm.js" onload="this.onload=null;this.setAttribute(&quot;loaded&quot;, &quot;true&quot;)"></script><script async="" id="graph-render-worker-script" src="lib/scripts/graph-render-worker.js" onload="this.onload=null;this.setAttribute(&quot;loaded&quot;, &quot;true&quot;)"></script><script async="" id="tinycolor-script" src="lib/scripts/tinycolor.js" onload="this.onload=null;this.setAttribute(&quot;loaded&quot;, &quot;true&quot;)"></script><script async="" id="pixi-script" src="https://cdnjs.cloudflare.com/ajax/libs/pixi.js/7.4.0/pixi.min.js" onload="this.onload=null;this.setAttribute(&quot;loaded&quot;, &quot;true&quot;)"></script><script async="" id="minisearch-script" src="https://cdn.jsdelivr.net/npm/minisearch@6.3.0/dist/umd/index.min.js" onload="this.onload=null;this.setAttribute(&quot;loaded&quot;, &quot;true&quot;)"></script><link rel="icon" href="lib/media/favicon.png"><script async="" id="graph-data-script" src="lib/scripts/graph-data.js" onload="this.onload=null;this.setAttribute(&quot;loaded&quot;, &quot;true&quot;)"></script><link rel="stylesheet" href="lib/styles/obsidian.css"><link rel="preload" href="lib/styles/other-plugins.css" as="style" onload="this.onload=null;this.rel='stylesheet'"><noscript><link rel="stylesheet" href="lib/styles/other-plugins.css"></noscript><link rel="stylesheet" href="lib/styles/theme.css"><link rel="preload" href="lib/styles/global-variable-styles.css" as="style" onload="this.onload=null;this.rel='stylesheet'"><noscript><link rel="stylesheet" href="lib/styles/global-variable-styles.css"></noscript><link rel="preload" href="lib/styles/supported-plugins.css" as="style" onload="this.onload=null;this.rel='stylesheet'"><noscript><link rel="stylesheet" href="lib/styles/supported-plugins.css"></noscript><link rel="preload" href="lib/styles/main-styles.css" as="style" onload="this.onload=null;this.rel='stylesheet'"><noscript><link rel="stylesheet" href="lib/styles/main-styles.css"></noscript><style>body{--line-width:40em;--line-width-adaptive:40em;--file-line-width:40em;--sidebar-width:min(20em, 80vw);--collapse-arrow-size:11px;--tree-horizontal-spacing:0.6em;--tree-vertical-spacing:0.6em;--sidebar-margin:12px}.sidebar{height:100%;min-width:calc(var(--sidebar-width) + var(--divider-width-hover));max-width:calc(var(--sidebar-width) + var(--divider-width-hover));font-size:14px;z-index:10;position:relative;overflow:hidden;transition:min-width ease-in-out,max-width ease-in-out;transition-duration:.2s;contain:size}.sidebar-left{left:0}.sidebar-right{right:0}.sidebar.is-collapsed{min-width:0;max-width:0}body.floating-sidebars .sidebar{position:absolute}.sidebar-content{height:100%;min-width:calc(var(--sidebar-width) - var(--divider-width-hover));top:0;padding:var(--sidebar-margin);padding-top:4em;line-height:var(--line-height-tight);background-color:var(--background-secondary);transition:background-color,border-right,border-left,box-shadow;transition-duration:var(--color-fade-speed);transition-timing-function:ease-in-out;position:absolute;display:flex;flex-direction:column}.sidebar:not(.is-collapsed) .sidebar-content{min-width:calc(max(100%,var(--sidebar-width)) - 3px);max-width:calc(max(100%,var(--sidebar-width)) - 3px)}.sidebar-left .sidebar-content{left:0;border-top-right-radius:var(--radius-l);border-bottom-right-radius:var(--radius-l)}.sidebar-right .sidebar-content{right:0;border-top-left-radius:var(--radius-l);border-bottom-left-radius:var(--radius-l)}.sidebar:has(.sidebar-content:empty):has(.topbar-content:empty){display:none}.sidebar-topbar{height:2em;width:var(--sidebar-width);top:var(--sidebar-margin);padding-inline:var(--sidebar-margin);z-index:1;position:fixed;display:flex;align-items:center;transition:width ease-in-out;transition-duration:inherit}.sidebar.is-collapsed .sidebar-topbar{width:calc(2.3em + var(--sidebar-margin) * 2)}.sidebar .sidebar-topbar.is-collapsed{width:0}.sidebar-left .sidebar-topbar{left:0}.sidebar-right .sidebar-topbar{right:0}.topbar-content{overflow:hidden;overflow:clip;width:100%;height:100%;display:flex;align-items:center;transition:inherit}.sidebar.is-collapsed .topbar-content{width:0;transition:inherit}.clickable-icon.sidebar-collapse-icon{background-color:transparent;color:var(--icon-color-focused);padding:0!important;margin:0!important;height:100%!important;width:2.3em!important;margin-inline:0.14em!important;position:absolute}.sidebar-left .clickable-icon.sidebar-collapse-icon{transform:rotateY(180deg);right:var(--sidebar-margin)}.sidebar-right .clickable-icon.sidebar-collapse-icon{transform:rotateY(180deg);left:var(--sidebar-margin)}.clickable-icon.sidebar-collapse-icon svg.svg-icon{width:100%;height:100%}.sidebar-section-header{margin:0 0 1em 0;text-transform:uppercase;letter-spacing:.06em}body{transition:background-color var(--color-fade-speed) ease-in-out}.webpage-container{display:flex;flex-direction:row;height:100%;width:100%;align-items:stretch;justify-content:center}.document-container{opacity:1;flex-basis:100%;max-width:100%;width:100%;height:100%;display:flex;flex-direction:column;align-items:center;transition:opacity .2s ease-in-out;contain:inline-size}.hide{opacity:0;transition:opacity .2s ease-in-out}.document-container>.markdown-preview-view{margin:var(--sidebar-margin);margin-bottom:0;width:100%;width:-webkit-fill-available;width:-moz-available;width:fill-available;background-color:var(--background-primary);transition:background-color var(--color-fade-speed) ease-in-out;border-top-right-radius:var(--window-radius,var(--radius-m));border-top-left-radius:var(--window-radius,var(--radius-m));overflow-x:hidden!important;overflow-y:auto!important;display:flex!important;flex-direction:column!important;align-items:center!important;contain:inline-size}.document-container>.markdown-preview-view>.markdown-preview-sizer{padding-bottom:80vh!important;width:100%!important;max-width:var(--line-width)!important;flex-basis:var(--line-width)!important;transition:background-color var(--color-fade-speed) ease-in-out;contain:inline-size}.markdown-rendered img:not([width]),.view-content img:not([width]){max-width:100%;outline:0}.document-container>.view-content.embed{display:flex;padding:1em;height:100%;width:100%;align-items:center;justify-content:center}.document-container>.view-content.embed>*{max-width:100%;max-height:100%;object-fit:contain}:not(h1,h2,h3,h4,h5,h6):has(> :is(.math,table)){overflow-x:auto!important}.document-container>.view-content{overflow-x:auto;contain:content;padding:0;margin:0;height:100%}.scroll-highlight{position:absolute;width:100%;height:100%;pointer-events:none;z-index:1000;background-color:hsla(var(--color-accent-hsl),.25);opacity:0;padding:1em;inset:50%;translate:-50% -50%;border-radius:var(--radius-s)}</style><script defer="">async function loadIncludes(){if("file:"!=location.protocol){let e=document.querySelectorAll("include");for(const t of e){let e=t.getAttribute("src");try{const o=await fetch(e);if(!o.ok){console.log("Could not include file: "+e),t?.remove();continue}let l=await o.text(),n=document.createRange().createContextualFragment(l),c=Array.from(n.children);for(let e of c)e.classList.add("hide"),e.style.transition="opacity 0.5s ease-in-out",setTimeout((()=>{e.classList.remove("hide")}),10);t.before(n),t.remove(),console.log("Included file: "+e)}catch(o){t?.remove(),console.log("Could not include file: "+e,o);continue}}}else{if(document.querySelectorAll("include").length>0){var e=document.createElement("div");e.id="error",e.textContent="Web server exports must be hosted on an http / web server to be viewed correctly.",e.style.position="fixed",e.style.top="50%",e.style.left="50%",e.style.transform="translate(-50%, -50%)",e.style.fontSize="1.5em",e.style.fontWeight="bold",e.style.textAlign="center",document.body.appendChild(e),document.querySelector(".document-container")?.classList.remove("hide")}}}document.addEventListener("DOMContentLoaded",(()=>{loadIncludes()}));let isFileProtocol="file:"==location.protocol;function waitLoadScripts(e,t){let o=e.map((e=>document.getElementById(e+"-script"))),l=0;!function e(){let n=o[l];l++,n&&"true"!=n.getAttribute("loaded")||l<o.length&&e(),l<o.length?n.addEventListener("load",e):t()}()}</script></head><body class="publish css-settings-manager theme-light show-inline-title show-ribbon trim-cols row-lines col-lines table-lines row-hover minimal-notion-light minimal-dracula-dark minimal-readable colorful-headings links-int-on links-ext-on full-width-media is-focused"><script defer="">let theme=localStorage.getItem("theme")||(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light");"dark"==theme?(document.body.classList.add("theme-dark"),document.body.classList.remove("theme-light")):(document.body.classList.add("theme-light"),document.body.classList.remove("theme-dark")),window.innerWidth<480?document.body.classList.add("is-phone"):window.innerWidth<768?document.body.classList.add("is-tablet"):window.innerWidth<1024?document.body.classList.add("is-small-screen"):document.body.classList.add("is-large-screen")</script><div class="webpage-container workspace"><div class="sidebar-left sidebar"><div class="sidebar-handle"></div><div class="sidebar-topbar"><div class="topbar-content"><label class="theme-toggle-container" for="theme_toggle"><input class="theme-toggle-input" type="checkbox" id="theme_toggle"><div class="toggle-background"></div></label></div><div class="clickable-icon sidebar-collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="100%" height="100%" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3" stroke-linecap="round" stroke-linejoin="round" class="svg-icon"><path d="M21 3H3C1.89543 3 1 3.89543 1 5V19C1 20.1046 1.89543 21 3 21H21C22.1046 21 23 20.1046 23 19V5C23 3.89543 22.1046 3 21 3Z"></path><path d="M10 4V20"></path><path d="M4 7H7"></path><path d="M4 10H7"></path><path d="M4 13H7"></path></svg></div></div><div class="sidebar-content"><div class="search-input-container"><div class="search-input-wrapper"><input enterkeyhint="search" type="search" spellcheck="false" placeholder="Search..."><div class="search-input-clear-button" aria-label="Clear search"></div></div></div><include src="lib/html/file-tree.html"></include></div><script defer="">let ls = document.querySelector(".sidebar-left"); ls.classList.add("is-collapsed"); if (window.innerWidth > 768) ls.classList.remove("is-collapsed"); ls.style.setProperty("--sidebar-width", localStorage.getItem("sidebar-left-width"));</script></div><div class="document-container markdown-reading-view hide"><div class="markdown-preview-view markdown-rendered allow-fold-headings allow-fold-lists is-readable-line-width"><style id="MJX-CHTML-styles"></style><div class="markdown-preview-sizer markdown-preview-section"><h1 class="page-title heading inline-title" id="SpringBoot 启动扩展点_常用接口_springboot 有哪些拓展点接口"><p dir="auto">SpringBoot 启动扩展点_常用接口_springboot 有哪些拓展点接口</p></h1><div><div class="block-language-table-of-contents"><ul dir="auto">
<li dir="auto"><a data-tooltip-position="top" aria-label="SpringBoot常用的接口" data-href="#SpringBoot常用的接口" href="知识库/工作技能/spring/springboot-启动扩展点_常用接口_springboot-有哪些拓展点接口.html#SpringBoot常用的接口" class="internal-link" target="_self" rel="noopener">SpringBoot常用的接口</a></li>
<li dir="auto"><a data-tooltip-position="top" aria-label="ApplicationContextInitializer" data-href="#ApplicationContextInitializer" href="知识库/工作技能/spring/springboot-启动扩展点_常用接口_springboot-有哪些拓展点接口.html#ApplicationContextInitializer" class="internal-link" target="_self" rel="noopener">ApplicationContextInitializer</a></li>
<li dir="auto"><a data-tooltip-position="top" aria-label="BeanDefinitionRegistryPostProcessor" data-href="#BeanDefinitionRegistryPostProcessor" href="知识库/工作技能/spring/springboot-启动扩展点_常用接口_springboot-有哪些拓展点接口.html#BeanDefinitionRegistryPostProcessor" class="internal-link" target="_self" rel="noopener">BeanDefinitionRegistryPostProcessor</a></li>
<li dir="auto"><a data-tooltip-position="top" aria-label="BeanFactoryPostProcessor" data-href="#BeanFactoryPostProcessor" href="知识库/工作技能/spring/springboot-启动扩展点_常用接口_springboot-有哪些拓展点接口.html#BeanFactoryPostProcessor" class="internal-link" target="_self" rel="noopener">BeanFactoryPostProcessor</a></li>
<li dir="auto"><a data-tooltip-position="top" aria-label="InstantiationAwareBeanPostProcessor" data-href="#InstantiationAwareBeanPostProcessor" href="知识库/工作技能/spring/springboot-启动扩展点_常用接口_springboot-有哪些拓展点接口.html#InstantiationAwareBeanPostProcessor" class="internal-link" target="_self" rel="noopener">InstantiationAwareBeanPostProcessor</a></li>
<li dir="auto"><a data-tooltip-position="top" aria-label="SmartInstantiationAwareBeanPostProcessor" data-href="#SmartInstantiationAwareBeanPostProcessor" href="知识库/工作技能/spring/springboot-启动扩展点_常用接口_springboot-有哪些拓展点接口.html#SmartInstantiationAwareBeanPostProcessor" class="internal-link" target="_self" rel="noopener">SmartInstantiationAwareBeanPostProcessor</a></li>
<li dir="auto"><a data-tooltip-position="top" aria-label="BeanFactoryAware" data-href="#BeanFactoryAware" href="知识库/工作技能/spring/springboot-启动扩展点_常用接口_springboot-有哪些拓展点接口.html#BeanFactoryAware" class="internal-link" target="_self" rel="noopener">BeanFactoryAware</a></li>
<li dir="auto"><a data-tooltip-position="top" aria-label="ApplicationContextAwareProcessor" data-href="#ApplicationContextAwareProcessor" href="知识库/工作技能/spring/springboot-启动扩展点_常用接口_springboot-有哪些拓展点接口.html#ApplicationContextAwareProcessor" class="internal-link" target="_self" rel="noopener">ApplicationContextAwareProcessor</a></li>
<li dir="auto"><a data-tooltip-position="top" aria-label="BeanNameAware" data-href="#BeanNameAware" href="知识库/工作技能/spring/springboot-启动扩展点_常用接口_springboot-有哪些拓展点接口.html#BeanNameAware" class="internal-link" target="_self" rel="noopener">BeanNameAware</a></li>
<li dir="auto"><a data-tooltip-position="top" aria-label="@PostConstruct" data-href="#@PostConstruct" href="知识库/工作技能/spring/springboot-启动扩展点_常用接口_springboot-有哪些拓展点接口.html#@PostConstruct" class="internal-link" target="_self" rel="noopener">@PostConstruct</a></li>
<li dir="auto"><a data-tooltip-position="top" aria-label="InitializingBean" data-href="#InitializingBean" href="知识库/工作技能/spring/springboot-启动扩展点_常用接口_springboot-有哪些拓展点接口.html#InitializingBean" class="internal-link" target="_self" rel="noopener">InitializingBean</a></li>
<li dir="auto"><a data-tooltip-position="top" aria-label="FactoryBean" data-href="#FactoryBean" href="知识库/工作技能/spring/springboot-启动扩展点_常用接口_springboot-有哪些拓展点接口.html#FactoryBean" class="internal-link" target="_self" rel="noopener">FactoryBean</a></li>
<li dir="auto"><a data-tooltip-position="top" aria-label="SmartInitializingSingleton" data-href="#SmartInitializingSingleton" href="知识库/工作技能/spring/springboot-启动扩展点_常用接口_springboot-有哪些拓展点接口.html#SmartInitializingSingleton" class="internal-link" target="_self" rel="noopener">SmartInitializingSingleton</a></li>
<li dir="auto"><a data-tooltip-position="top" aria-label="CommandLineRunner" data-href="#CommandLineRunner" href="知识库/工作技能/spring/springboot-启动扩展点_常用接口_springboot-有哪些拓展点接口.html#CommandLineRunner" class="internal-link" target="_self" rel="noopener">CommandLineRunner</a></li>
<li dir="auto"><a data-tooltip-position="top" aria-label="DisposableBean" data-href="#DisposableBean" href="知识库/工作技能/spring/springboot-启动扩展点_常用接口_springboot-有哪些拓展点接口.html#DisposableBean" class="internal-link" target="_self" rel="noopener">DisposableBean</a></li>
<li dir="auto"><a data-tooltip-position="top" aria-label="ApplicationListener" data-href="#ApplicationListener" href="知识库/工作技能/spring/springboot-启动扩展点_常用接口_springboot-有哪些拓展点接口.html#ApplicationListener" class="internal-link" target="_self" rel="noopener">ApplicationListener</a></li>
</ul></div></div><div class="heading-wrapper"><h2 data-heading="SpringBoot常用的接口" dir="auto" class="heading" id="SpringBoot常用的接口"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>SpringBoot常用的接口</h2><div class="heading-children"><div><p dir="auto">1、BeanFactoryAware接口 暴露BeanFactory ：实现该接口方法可以拿到暴露BeanFactory</p></div><div><p dir="auto">2、ResourceLoaderAware接口 暴露ResourceLoader： 实现该接口获取资源加载器,可以获得外部资源文件</p></div><div><p dir="auto">3、BeanNameAware接口 暴露beanName: 实现该接口可以获取bean名字</p></div><div><p dir="auto">4、MessageSourceAware接口 暴露MessageSource：实现该接口可以设置国际化信息替换</p></div><div><p dir="auto">5、EnvironmentAware接口 暴露Environment：获取所有配置信息继承PropertyResolver可以获取key-value</p></div><div><p dir="auto">6、ApplicationContextAware接口 暴露ApplicationContext：实现该接口可以获取到容器上下文(ApplicationContext接口继承BeanFactory，包括Environment、MessageSource、ApplicationEventPublisher、ResourceLoader基本上涵盖以上所有作用)</p></div><div><p dir="auto">7、ServletContextAware接口 暴露ServletContext：获取Servlet上下文信息</p></div><div><p dir="auto">8、ServletConfigAware接口 暴露ServletConfig：包括可以获取ServletContext</p></div><div><p dir="auto">9、InstantiationAwareBeanPostProcessor接口 在Bean实例化前后做一些操作。这个接口实际上我们也是非常的熟悉，该接口在我们剖析注解配置AOP的时候是我们的老朋友，实际上，注解配置的AOP是间接实现 BeanPostProcess 接口的，而 InstantiationAwareBeanPostProcessor 就是继承该接口</p></div><div><p dir="auto">10、<a data-tooltip-position="top" aria-label="https://so.csdn.net/so/search?q=CommandLineRunner&amp;spm=1001.2101.3001.7020" rel="noopener" class="external-link is-unresolved" href="https://so.csdn.net/so/search?q=CommandLineRunner&amp;spm=1001.2101.3001.7020" target="_self">CommandLineRunner</a>接口 容器初始化完成后执行，可获取设置的环境变量参数</p></div><div><p dir="auto">11、<a data-tooltip-position="top" aria-label="https://so.csdn.net/so/search?q=ApplicationRunner&amp;spm=1001.2101.3001.7020" rel="noopener" class="external-link is-unresolved" href="https://so.csdn.net/so/search?q=ApplicationRunner&amp;spm=1001.2101.3001.7020" target="_self">ApplicationRunner</a>接口 容器初始化完成后执行代码</p></div><div><p dir="auto">12、BeanPostProcessor接口 ： bean实例化前后处理，实现该接口可以在bean实例化前后进行操作，与之类似接口BeanFactoryPostProcessor该接口在注册bean（BeanDefinitionsMap）后的操作</p></div><div><p dir="auto">13、InitializingBean接口 :initializeBean时执行，即BeanPostProcessor执行完before后执行该接口方法afterPropertiesSet</p></div><div><p dir="auto">14、ImportBeanDefinitionRegistrar接口： registerBeanDefinitions bean注册到BeanDefinitionsMap</p></div><div><p dir="auto">15、ImportSelector接口，返回所有classname数组,在注册bean是调用获取，之后放入BeanDefinitionsMap与ImportBeanDefinitionRegistrar有点类似作用</p></div><div><p dir="auto">16、DeferredImportSelector接口：继承ImportSelector接口，作用差不多，只不过该接口延迟被注册，ImportSelector接口注册完bean之后才会接着注册DeferredImportSelector的bean</p></div><div><p dir="auto">17、ApplicationListener接口: 监听接口，当bean被初始化完成并被成功装载后会触发该事件，在最后一步finishRefresh时调用，实现ApplicationListener接口可以收到监听动作</p></div><div><p dir="auto">18、ApplicationContextInitializer接口： 刷新容器前也就是prepareContext时遍历调用，也就是bean注册前调用</p></div><div><p dir="auto">19、FactoryBean接口：自定义Bean的创建过程,将对象放入beanFactory</p></div><div><p dir="auto"><span alt="b263be4b3833ff3d6ef91a4bb82612c0_MD5.png" src="b263be4b3833ff3d6ef91a4bb82612c0_MD5.png" class="internal-embed media-embed image-embed is-loaded"><img alt="b263be4b3833ff3d6ef91a4bb82612c0_MD5.png" src="attachments/b263be4b3833ff3d6ef91a4bb82612c0_md5.png" target="_self"></span></p></div></div></div><div class="heading-wrapper"><h2 data-heading="ApplicationContextInitializer" dir="auto" class="heading" id="ApplicationContextInitializer"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>ApplicationContextInitializer</h2><div class="heading-children"><div><blockquote dir="auto">
<p dir="auto">org.springframework.context.ApplicationContextInitializer</p>
</blockquote></div><div><p dir="auto">这是整个spring容器在刷新之前初始化<code>ConfigurableApplicationContext</code>的回调接口，简单来说，就是在容器刷新之前调用此类的<code>initialize</code>方法。这个点允许被用户自己扩展。用户可以在整个spring容器还没被初始化之前做一些事情。</p></div><div><p dir="auto">ApplicationContextInitializer是Spring框架原有的概念, 这个类的主要目的就是在ConfigurableApplicationContext类型（或者子类型）的ApplicationContext做refresh之前，允许我们对ConfigurableApplicationContext的实例做进一步的设置或者处理。</p></div><div><p dir="auto">可以想到的场景可能为，在最开始激活一些配置，或者利用这时候class还没被类加载器加载的时机，进行动态字节码注入等操作。</p></div><div><pre dir="auto" class="language-java" tabindex="0"><code class="language-java is-loaded"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MyApplicationContextInitializer</span> <span class="token keyword">implements</span> <span class="token class-name">ApplicationContextInitializer</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">initialize</span><span class="token punctuation">(</span><span class="token class-name">ConfigurableApplicationContext</span> applicationContext<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"-----MyApplicationContextInitializer initialize-----"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code><button class="copy-code-button">复制</button></pre></div><div><p dir="auto">因为这时候spring容器还没被初始化，所以想要自己的扩展的生效，有以下三种方式：</p></div><div><p dir="auto">方式一、启动类使用SpringApplication对象添加</p></div><div><pre dir="auto" class="language-java" tabindex="0"><code class="language-java is-loaded"><span class="token annotation punctuation">@SpringBootApplication</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">SpringExtApplication</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">SpringApplication</span> application <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SpringApplication</span><span class="token punctuation">(</span><span class="token class-name">SpringExtApplication</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        application<span class="token punctuation">.</span><span class="token function">addInitializers</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">MyApplicationContextInitializer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        application<span class="token punctuation">.</span><span class="token function">run</span><span class="token punctuation">(</span>args<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code><button class="copy-code-button">复制</button></pre></div><div><p dir="auto">方式二、application.yml/application.properties配置文件配置</p></div><div><pre dir="auto"><code># yml
context:
  initializer:
    classes: cn.zysheep.ext.MyApplicationContextInitializer

# properties
context.initializer.classes=cn.zysheep.ext.MyApplicationContextInitializer
</code><button class="copy-code-button">复制</button></pre></div><div><p dir="auto">方式三、Spring SPI扩展，在resources/META-INF/spring.factories中加入</p></div><div><pre dir="auto"><code># Initializers
org.springframework.context.ApplicationContextInitializer=\
    cn.zysheep.ext.MyApplicationContextInitializer 

</code><button class="copy-code-button">复制</button></pre></div><div><p dir="auto"><strong>三种方式同时配置，会同时生效</strong></p></div></div></div><div class="heading-wrapper"><h2 data-heading="BeanDefinitionRegistryPostProcessor" dir="auto" class="heading" id="BeanDefinitionRegistryPostProcessor"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>BeanDefinitionRegistryPostProcessor</h2><div class="heading-children"><div><blockquote dir="auto">
<p dir="auto">org.springframework.beans.factory.support.BeanDefinitionRegistryPostProcessor</p>
</blockquote></div><div><p dir="auto">这个接口在读取项目中的<code>beanDefinition</code>之后执行，提供一个补充的扩展点</p></div><div><p dir="auto">使用场景：你可以在这里动态注册自己的<code>beanDefinition</code>，可以加载classpath之外的bean</p></div><div><pre dir="auto" class="language-java" tabindex="0"><code class="language-java is-loaded"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">TestBeanDefinitionRegistryPostProcessor</span> <span class="token keyword">implements</span> <span class="token class-name">BeanDefinitionRegistryPostProcessor</span> <span class="token punctuation">{</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">postProcessBeanDefinitionRegistry</span><span class="token punctuation">(</span><span class="token class-name">BeanDefinitionRegistry</span> registry<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">BeansException</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"[BeanDefinitionRegistryPostProcessor] postProcessBeanDefinitionRegistry"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">postProcessBeanFactory</span><span class="token punctuation">(</span><span class="token class-name">ConfigurableListableBeanFactory</span> beanFactory<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">BeansException</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"[BeanDefinitionRegistryPostProcessor] postProcessBeanFactory"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code><button class="copy-code-button">复制</button></pre></div></div></div><div class="heading-wrapper"><h2 data-heading="BeanFactoryPostProcessor" dir="auto" class="heading" id="BeanFactoryPostProcessor"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>BeanFactoryPostProcessor</h2><div class="heading-children"><div><blockquote dir="auto">
<p dir="auto">org.springframework.beans.factory.config.BeanFactoryPostProcessor</p>
</blockquote></div><div><p dir="auto">这个接口是<code>beanFactory</code>的扩展接口，调用时机在spring在读取<code>beanDefinition</code>信息之后，实例化bean之前。</p></div><div><p dir="auto">在这个时机，用户可以通过实现这个扩展接口来自行处理一些东西，比如修改已经注册的<code>beanDefinition</code>的元信息。</p></div><div><pre dir="auto" class="language-java" tabindex="0"><code class="language-java is-loaded"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">TestBeanFactoryPostProcessor</span> <span class="token keyword">implements</span> <span class="token class-name">BeanFactoryPostProcessor</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">postProcessBeanFactory</span><span class="token punctuation">(</span><span class="token class-name">ConfigurableListableBeanFactory</span> beanFactory<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">BeansException</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"[BeanFactoryPostProcessor]"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code><button class="copy-code-button">复制</button></pre></div></div></div><div class="heading-wrapper"><h2 data-heading="InstantiationAwareBeanPostProcessor" dir="auto" class="heading" id="InstantiationAwareBeanPostProcessor"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>InstantiationAwareBeanPostProcessor</h2><div class="heading-children"><div><blockquote dir="auto">
<p dir="auto">org.springframework.beans.factory.config.InstantiationAwareBeanPostProcessor</p>
</blockquote></div><div><p dir="auto">该接口继承了<code>BeanPostProcess</code>接口，区别如下：</p></div><div><p dir="auto"><strong><code>BeanPostProcess</code>接口只在bean的初始化阶段进行扩展（注入spring上下文前后），而<code>InstantiationAwareBeanPostProcessor</code>接口在此基础上增加了3个方法，把可扩展的范围增加了实例化阶段和属性注入阶段。</strong> </p></div><div><p dir="auto">该类主要的扩展点有以下5个方法，主要在bean生命周期的两大阶段：<strong>实例化阶段</strong>和<strong>初始化阶段</strong>，下面一起进行说明，按调用顺序为：</p></div><div><ul dir="auto">
<li data-line="0" dir="auto"><code>postProcessBeforeInstantiation</code>：实例化bean之前，相当于new这个bean之前</li>
<li data-line="1" dir="auto"><code>postProcessAfterInstantiation</code>：实例化bean之后，相当于new这个bean之后</li>
<li data-line="2" dir="auto"><code>postProcessPropertyValues</code>：bean已经实例化完成，在属性注入时阶段触发，<code>@Autowired</code>,<code>@Resource</code>等注解原理基于此方法实现</li>
<li data-line="3" dir="auto"><code>postProcessBeforeInitialization</code>：初始化bean之前，相当于把bean注入spring上下文之前</li>
<li data-line="4" dir="auto"><code>postProcessAfterInitialization</code>：初始化bean之后，相当于把bean注入spring上下文之后</li>
</ul></div><div><p dir="auto">使用场景：这个扩展点非常有用 ，无论是写中间件和业务中，都能利用这个特性。比如对实现了某一类接口的bean在各个生命期间进行收集，或者对某个类型的bean进行统一的设值等等。</p></div><div><pre dir="auto" class="language-java" tabindex="0"><code class="language-java is-loaded"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">TestInstantiationAwareBeanPostProcessor</span> <span class="token keyword">implements</span> <span class="token class-name">InstantiationAwareBeanPostProcessor</span> <span class="token punctuation">{</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token class-name">Object</span> <span class="token function">postProcessBeforeInitialization</span><span class="token punctuation">(</span><span class="token class-name">Object</span> bean<span class="token punctuation">,</span> <span class="token class-name">String</span> beanName<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">BeansException</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"[TestInstantiationAwareBeanPostProcessor] before initialization "</span> <span class="token operator">+</span> beanName<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> bean<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token class-name">Object</span> <span class="token function">postProcessAfterInitialization</span><span class="token punctuation">(</span><span class="token class-name">Object</span> bean<span class="token punctuation">,</span> <span class="token class-name">String</span> beanName<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">BeansException</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"[TestInstantiationAwareBeanPostProcessor] after initialization "</span> <span class="token operator">+</span> beanName<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> bean<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token class-name">Object</span> <span class="token function">postProcessBeforeInstantiation</span><span class="token punctuation">(</span><span class="token class-name">Class</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span><span class="token punctuation">&gt;</span></span> beanClass<span class="token punctuation">,</span> <span class="token class-name">String</span> beanName<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">BeansException</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"[TestInstantiationAwareBeanPostProcessor] before instantiation "</span> <span class="token operator">+</span> beanName<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">boolean</span> <span class="token function">postProcessAfterInstantiation</span><span class="token punctuation">(</span><span class="token class-name">Object</span> bean<span class="token punctuation">,</span> <span class="token class-name">String</span> beanName<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">BeansException</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"[TestInstantiationAwareBeanPostProcessor] after instantiation "</span> <span class="token operator">+</span> beanName<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token class-name">PropertyValues</span> <span class="token function">postProcessPropertyValues</span><span class="token punctuation">(</span><span class="token class-name">PropertyValues</span> pvs<span class="token punctuation">,</span> <span class="token class-name">PropertyDescriptor</span><span class="token punctuation">[</span><span class="token punctuation">]</span> pds<span class="token punctuation">,</span> <span class="token class-name">Object</span> bean<span class="token punctuation">,</span> <span class="token class-name">String</span> beanName<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">BeansException</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"[TestInstantiationAwareBeanPostProcessor] postProcessPropertyValues "</span> <span class="token operator">+</span> beanName<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> pvs<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
</code><button class="copy-code-button">复制</button></pre></div></div></div><div class="heading-wrapper"><h2 data-heading="SmartInstantiationAwareBeanPostProcessor" dir="auto" class="heading" id="SmartInstantiationAwareBeanPostProcessor"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>SmartInstantiationAwareBeanPostProcessor</h2><div class="heading-children"><div><blockquote dir="auto">
<p dir="auto">org.springframework.beans.factory.config.SmartInstantiationAwareBeanPostProcessor</p>
</blockquote></div><div><p dir="auto">该扩展接口有3个触发点方法：</p></div><div><ul dir="auto">
<li data-line="0" dir="auto"><code>predictBeanType</code>：该触发点发生在<code>postProcessBeforeInstantiation</code>之前(在图上并没有标明，因为一般不太需要扩展这个点)，这个方法用于预测Bean的类型，返回第一个预测成功的Class类型，如果不能预测返回null；当你调用<code>BeanFactory.getType(name)</code>时当通过bean的名字无法得到bean类型信息时就调用该回调方法来决定类型信息。</li>
<li data-line="1" dir="auto"><code>determineCandidateConstructors</code>：该触发点发生在<code>postProcessBeforeInstantiation</code>之后，用于确定该bean的构造函数之用，返回的是该bean的所有构造函数列表。用户可以扩展这个点，来自定义选择相应的构造器来实例化这个bean。</li>
<li data-line="2" dir="auto"><code>getEarlyBeanReference</code>：该触发点发生在<code>postProcessAfterInstantiation</code>之后，当有循环依赖的场景，当bean实例化好之后，为了防止有循环依赖，会提前暴露回调方法，用于bean实例化的后置处理。这个方法就是在提前暴露的回调方法中触发。</li>
</ul></div><div><p dir="auto">扩展方式为：</p></div><div><pre dir="auto" class="language-java" tabindex="0"><code class="language-java is-loaded"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">TestSmartInstantiationAwareBeanPostProcessor</span> <span class="token keyword">implements</span> <span class="token class-name">SmartInstantiationAwareBeanPostProcessor</span> <span class="token punctuation">{</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token class-name">Class</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span><span class="token punctuation">&gt;</span></span> <span class="token function">predictBeanType</span><span class="token punctuation">(</span><span class="token class-name">Class</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span><span class="token punctuation">&gt;</span></span> beanClass<span class="token punctuation">,</span> <span class="token class-name">String</span> beanName<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">BeansException</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"[TestSmartInstantiationAwareBeanPostProcessor] predictBeanType "</span> <span class="token operator">+</span> beanName<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> beanClass<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token class-name">Constructor</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token function">determineCandidateConstructors</span><span class="token punctuation">(</span><span class="token class-name">Class</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span><span class="token punctuation">&gt;</span></span> beanClass<span class="token punctuation">,</span> <span class="token class-name">String</span> beanName<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">BeansException</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"[TestSmartInstantiationAwareBeanPostProcessor] determineCandidateConstructors "</span> <span class="token operator">+</span> beanName<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token class-name">Object</span> <span class="token function">getEarlyBeanReference</span><span class="token punctuation">(</span><span class="token class-name">Object</span> bean<span class="token punctuation">,</span> <span class="token class-name">String</span> beanName<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">BeansException</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"[TestSmartInstantiationAwareBeanPostProcessor] getEarlyBeanReference "</span> <span class="token operator">+</span> beanName<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> bean<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code><button class="copy-code-button">复制</button></pre></div></div></div><div class="heading-wrapper"><h2 data-heading="BeanFactoryAware" dir="auto" class="heading" id="BeanFactoryAware"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>BeanFactoryAware</h2><div class="heading-children"><div><blockquote dir="auto">
<p dir="auto">org.springframework.beans.factory.BeanFactoryAware</p>
</blockquote></div><div><p dir="auto">这个类只有一个触发点，发生在bean的实例化之后，注入属性之前，也就是Setter之前。这个类的扩展点方法为<code>setBeanFactory</code>，可以拿到<code>BeanFactory</code>这个属性。</p></div><div><p dir="auto">使用场景为，你可以在bean实例化之后，但还未初始化之前，拿到 <code>BeanFactory</code>，在这个时候，可以对每个bean作特殊化的定制。也或者可以把<code>BeanFactory</code>拿到进行缓存，日后使用。</p></div><div><p dir="auto">扩展方式为：</p></div><div><pre dir="auto" class="language-java" tabindex="0"><code class="language-java is-loaded"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">TestBeanFactoryAware</span> <span class="token keyword">implements</span> <span class="token class-name">BeanFactoryAware</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setBeanFactory</span><span class="token punctuation">(</span><span class="token class-name">BeanFactory</span> beanFactory<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">BeansException</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"[TestBeanFactoryAware] "</span> <span class="token operator">+</span> beanFactory<span class="token punctuation">.</span><span class="token function">getBean</span><span class="token punctuation">(</span><span class="token class-name">TestBeanFactoryAware</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getSimpleName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code><button class="copy-code-button">复制</button></pre></div></div></div><div class="heading-wrapper"><h2 data-heading="ApplicationContextAwareProcessor" dir="auto" class="heading" id="ApplicationContextAwareProcessor"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>ApplicationContextAwareProcessor</h2><div class="heading-children"><div><blockquote dir="auto">
<p dir="auto">org.springframework.context.support.ApplicationContextAwareProcessor</p>
</blockquote></div><div><p dir="auto">该类本身并没有扩展点，但是该类内部却有6个扩展点可供实现 ，这些类触发的时机在bean实例化之后，初始化之前</p></div><div><p dir="auto"><span alt="90757167dee13cfb0228dce39fe6d400_MD5.png" src="90757167dee13cfb0228dce39fe6d400_MD5.png" class="internal-embed media-embed image-embed is-loaded"><img alt="90757167dee13cfb0228dce39fe6d400_MD5.png" src="attachments/90757167dee13cfb0228dce39fe6d400_md5.png" target="_self"></span></p></div><div><p dir="auto">可以看到，该类用于执行各种驱动接口，在bean实例化之后，属性填充之后，通过执行以上红框标出的扩展接口，来获取对应容器的变量。<strong>所以这里应该来说是有6个扩展点</strong>，这里就放一起来说了</p></div><div><ul dir="auto">
<li data-line="0" dir="auto"><code>EnvironmentAware</code>：用于获取<code>EnviromentAware</code>的一个扩展类，这个变量非常有用， 可以获得系统内的所有参数。当然个人认为这个Aware没必要去扩展，因为spring内部都可以通过注入的方式来直接获得。</li>
<li data-line="1" dir="auto"><code>EmbeddedValueResolverAware</code>：用于获取<code>StringValueResolver</code>的一个扩展类， <code>StringValueResolver</code>用于获取基于<code>String</code>类型的properties的变量，一般我们都用<code>@Value</code>的方式去获取，如果实现了这个Aware接口，把<code>StringValueResolver</code>缓存起来，通过这个类去获取<code>String</code>类型的变量，效果是一样的。</li>
<li data-line="2" dir="auto"><code>ResourceLoaderAware</code>：用于获取<code>ResourceLoader</code>的一个扩展类，<code>ResourceLoader</code>可以用于获取classpath内所有的资源对象，可以扩展此类来拿到<code>ResourceLoader</code>对象。</li>
<li data-line="3" dir="auto"><code>ApplicationEventPublisherAware</code>：用于获取<code>ApplicationEventPublisher</code>的一个扩展类，<code>ApplicationEventPublisher</code>可以用来发布事件，结合<code>ApplicationListener</code>来共同使用，下文在介绍<code>ApplicationListener</code>时会详细提到。这个对象也可以通过spring注入的方式来获得。</li>
<li data-line="4" dir="auto"><code>MessageSourceAware</code>：用于获取<code>MessageSource</code>的一个扩展类，<code>MessageSource</code>主要用来做国际化。</li>
<li data-line="5" dir="auto"><code>ApplicationContextAware</code>：用来获取<code>ApplicationContext</code>的一个扩展类，<code>ApplicationContext</code>应该是很多人非常熟悉的一个类了，就是spring上下文管理器，可以手动的获取任何在spring上下文注册的bean，我们经常扩展这个接口来缓存spring上下文，包装成静态方法。同时<code>ApplicationContext</code>也实现了<code>BeanFactory</code>，<code>MessageSource</code>，<code>ApplicationEventPublisher</code>等接口，也可以用来做相关接口的事情。</li>
</ul></div></div></div><div class="heading-wrapper"><h2 data-heading="BeanNameAware" dir="auto" class="heading" id="BeanNameAware"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>BeanNameAware</h2><div class="heading-children"><div><blockquote dir="auto">
<p dir="auto">org.springframework.beans.factory.BeanNameAware</p>
</blockquote></div><div><p dir="auto">可以看到，这个类也是Aware扩展的一种，触发点在bean的初始化之前，也就是<code>postProcessBeforeInitialization</code>之前，这个类的触发点方法只有一个：<code>setBeanName</code></p></div><div><p dir="auto">使用场景为：用户可以扩展这个点，在初始化bean之前拿到spring容器中注册的的beanName，来自行修改这个beanName的值。</p></div><div><p dir="auto">扩展方式为：</p></div><div><pre dir="auto" class="language-java" tabindex="0"><code class="language-java is-loaded"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">NormalBeanA</span> <span class="token keyword">implements</span> <span class="token class-name">BeanNameAware</span><span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token class-name">NormalBeanA</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"NormalBean constructor"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setBeanName</span><span class="token punctuation">(</span><span class="token class-name">String</span> name<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"[BeanNameAware] "</span> <span class="token operator">+</span> name<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code><button class="copy-code-button">复制</button></pre></div></div></div><div class="heading-wrapper"><h2 data-heading="@PostConstruct" dir="auto" class="heading" id="@PostConstruct"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>@PostConstruct</h2><div class="heading-children"><div><blockquote dir="auto">
<p dir="auto">javax.annotation.PostConstruct</p>
</blockquote></div><div><p dir="auto">这个并不算一个扩展点，其实就是一个标注。其作用是在bean的初始化阶段，如果对一个方法标注了<code>@PostConstruct</code>，会先调用这个方法。这里重点是要关注下这个标准的触发点，这个触发点是在<code>postProcessBeforeInitialization</code>之后，<code>InitializingBean.afterPropertiesSet</code>之前。</p></div><div><p dir="auto">使用场景：用户可以对某一方法进行标注，来进行初始化某一个属性</p></div><div><p dir="auto">扩展方式为：</p></div><div><pre dir="auto" class="language-java" tabindex="0"><code class="language-java is-loaded"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">NormalBeanA</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token class-name">NormalBeanA</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"NormalBean constructor"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@PostConstruct</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">init</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"[PostConstruct] NormalBeanA"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code><button class="copy-code-button">复制</button></pre></div></div></div><div class="heading-wrapper"><h2 data-heading="InitializingBean" dir="auto" class="heading" id="InitializingBean"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>InitializingBean</h2><div class="heading-children"><div><blockquote dir="auto">
<p dir="auto">org.springframework.beans.factory.InitializingBean</p>
</blockquote></div><div><p dir="auto">这个类，顾名思义，也是用来初始化bean的。<code>InitializingBean</code>接口为bean提供了初始化方法的方式，它只包括<code>afterPropertiesSet</code>方法，凡是继承该接口的类，在初始化bean的时候都会执行该方法。这个扩展点的触发时机在<code>postProcessAfterInitialization</code>之前。</p></div><div><p dir="auto">使用场景：用户实现此接口，来进行系统启动的时候一些业务指标的初始化工作。</p></div><div><p dir="auto">扩展方式为：</p></div><div><pre dir="auto" class="language-java" tabindex="0"><code class="language-java is-loaded"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">NormalBeanA</span> <span class="token keyword">implements</span> <span class="token class-name">InitializingBean</span><span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">afterPropertiesSet</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">Exception</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"[InitializingBean] NormalBeanA"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code><button class="copy-code-button">复制</button></pre></div></div></div><div class="heading-wrapper"><h2 data-heading="FactoryBean" dir="auto" class="heading" id="FactoryBean"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>FactoryBean</h2><div class="heading-children"><div><blockquote dir="auto">
<p dir="auto">org.springframework.beans.factory.FactoryBean</p>
</blockquote></div><div><p dir="auto">一般情况下，Spring通过反射机制利用bean的class属性指定支线类去实例化bean，在某些情况下，实例化Bean过程比较复杂，如果按照传统的方式，则需要在bean中提供大量的配置信息。配置方式的灵活性是受限的，这时采用编码的方式可能会得到一个简单的方案。Spring为此提供了一个<code>org.springframework.bean.factory.FactoryBean</code>的工厂类接口，用户可以通过实现该接口定制实例化Bean的逻辑。<code>FactoryBean</code>接口对于Spring框架来说占用重要的地位，Spring自身就提供了70多个<code>FactoryBean</code>的实现。它们隐藏了实例化一些复杂bean的细节，给上层应用带来了便利。从Spring3.0开始，<code>FactoryBean</code>开始支持泛型，即接口声明改为<code>FactoryBean&lt;T&gt;</code>的形式</p></div><div><p dir="auto">使用场景：用户可以扩展这个类，来为要实例化的bean作一个代理，比如为该对象的所有的方法作一个拦截，在调用前后输出一行log，模仿<code>ProxyFactoryBean</code>的功能。</p></div><div><p dir="auto">扩展方式为：</p></div><div><pre dir="auto" class="language-java" tabindex="0"><code class="language-java is-loaded"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">TestFactoryBean</span> <span class="token keyword">implements</span> <span class="token class-name">FactoryBean</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">TestFactoryBean<span class="token punctuation">.</span>TestFactoryInnerBean</span><span class="token punctuation">&gt;</span></span> <span class="token punctuation">{</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token class-name">TestFactoryBean<span class="token punctuation">.</span>TestFactoryInnerBean</span> <span class="token function">getObject</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">Exception</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"[FactoryBean] getObject"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">TestFactoryBean<span class="token punctuation">.</span>TestFactoryInnerBean</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token class-name">Class</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span><span class="token punctuation">&gt;</span></span> <span class="token function">getObjectType</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token class-name">TestFactoryBean<span class="token punctuation">.</span>TestFactoryInnerBean</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">boolean</span> <span class="token function">isSingleton</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">class</span> <span class="token class-name">TestFactoryInnerBean</span><span class="token punctuation">{</span>

    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code><button class="copy-code-button">复制</button></pre></div></div></div><div class="heading-wrapper"><h2 data-heading="SmartInitializingSingleton" dir="auto" class="heading" id="SmartInitializingSingleton"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>SmartInitializingSingleton</h2><div class="heading-children"><div><blockquote dir="auto">
<p dir="auto">org.springframework.beans.factory.SmartInitializingSingleton</p>
</blockquote></div><div><p dir="auto">这个接口中只有一个方法<code>afterSingletonsInstantiated</code>，其作用是是 在spring容器管理的所有单例对象（非懒加载对象）初始化完成之后调用的回调接口。其触发时机为<code>postProcessAfterInitialization</code>之后。</p></div><div><p dir="auto">使用场景：用户可以扩展此接口在对所有单例对象初始化完毕后，做一些后置的业务处理。</p></div><div><p dir="auto">扩展方式为：</p></div><div><pre dir="auto" class="language-java" tabindex="0"><code class="language-java is-loaded"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">TestSmartInitializingSingleton</span> <span class="token keyword">implements</span> <span class="token class-name">SmartInitializingSingleton</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">afterSingletonsInstantiated</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"[TestSmartInitializingSingleton]"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code><button class="copy-code-button">复制</button></pre></div></div></div><div class="heading-wrapper"><h2 data-heading="CommandLineRunner" dir="auto" class="heading" id="CommandLineRunner"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>CommandLineRunner</h2><div class="heading-children"><div><blockquote dir="auto">
<p dir="auto">org.springframework.boot.CommandLineRunner</p>
</blockquote></div><div><p dir="auto">这个接口也只有一个方法：<code>run(String... args)</code>，触发时机为整个项目启动完毕后，自动执行。如果有多个<code>CommandLineRunner</code>，可以利用<code>@Order</code>来进行排序。</p></div><div><p dir="auto">使用场景：用户扩展此接口，进行启动项目之后一些业务的预处理。</p></div><div><p dir="auto">扩展方式为：</p></div><div><pre dir="auto" class="language-java" tabindex="0"><code class="language-java is-loaded"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">TestCommandLineRunner</span> <span class="token keyword">implements</span> <span class="token class-name">CommandLineRunner</span> <span class="token punctuation">{</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">run</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> args<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">Exception</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"[TestCommandLineRunner]"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code><button class="copy-code-button">复制</button></pre></div></div></div><div class="heading-wrapper"><h2 data-heading="DisposableBean" dir="auto" class="heading" id="DisposableBean"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>DisposableBean</h2><div class="heading-children"><div><blockquote dir="auto">
<p dir="auto">org.springframework.beans.factory.DisposableBean</p>
</blockquote></div><div><p dir="auto">这个扩展点也只有一个方法：<code>destroy()</code>，其触发时机为当此对象销毁时，会自动执行这个方法。比如说运行<code>applicationContext.registerShutdownHook</code>时，就会触发这个方法。</p></div><div><p dir="auto">扩展方式为：</p></div><div><pre dir="auto" class="language-java" tabindex="0"><code class="language-java is-loaded"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">NormalBeanA</span> <span class="token keyword">implements</span> <span class="token class-name">DisposableBean</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">destroy</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">Exception</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"[DisposableBean] NormalBeanA"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code><button class="copy-code-button">复制</button></pre></div></div></div><div class="heading-wrapper"><h2 data-heading="ApplicationListener" dir="auto" class="heading" id="ApplicationListener"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>ApplicationListener</h2><div class="heading-children"><div><blockquote dir="auto">
<p dir="auto">org.springframework.context.ApplicationListener</p>
</blockquote></div><div><p dir="auto">准确的说，这个应该不算spring&amp;springboot当中的一个扩展点，<code>ApplicationListener</code>可以监听某个事件的<code>event</code>，触发时机可以穿插在业务方法执行过程中，用户可以自定义某个业务事件。但是spring内部也有一些内置事件，这种事件，可以穿插在启动调用中。我们也可以利用这个特性，来自己做一些内置事件的监听器来达到和前面一些触发点大致相同的事情。</p></div><div><p dir="auto">接下来罗列下spring主要的内置事件：</p></div><div><ul dir="auto">
<li data-line="0" dir="auto">ContextRefreshedEvent<br>
ApplicationContext 被初始化或刷新时，该事件被发布。这也可以在<code>ConfigurableApplicationContext</code>接口中使用 <code>refresh()</code>方法来发生。此处的初始化是指：所有的Bean被成功装载，后处理Bean被检测并激活，所有Singleton Bean 被预实例化，<code>ApplicationContext</code>容器已就绪可用。</li>
<li data-line="2" dir="auto">ContextStartedEvent<br>
当使用 <code>ConfigurableApplicationContext</code> （ApplicationContext子接口）接口中的 start() 方法启动 <code>ApplicationContext</code>时，该事件被发布。你可以调查你的数据库，或者你可以在接受到这个事件后重启任何停止的应用程序。</li>
<li data-line="4" dir="auto">ContextStoppedEvent<br>
当使用 <code>ConfigurableApplicationContext</code>接口中的 <code>stop()</code>停止<code>ApplicationContext</code>时，发布这个事件。你可以在接受到这个事件后做必要的清理的工作</li>
<li data-line="6" dir="auto">ContextClosedEvent<br>
当使用 <code>ConfigurableApplicationContext</code>接口中的 <code>close()</code>方法关闭 <code>ApplicationContext</code> 时，该事件被发布。一个已关闭的上下文到达生命周期末端；它不能被刷新或重启</li>
<li data-line="8" dir="auto">RequestHandledEvent<br>
这是一个 web-specific 事件，告诉所有 bean HTTP 请求已经被服务。只能应用于使用DispatcherServlet的Web应用。在使用Spring作为前端的MVC控制器时，当Spring处理用户请求结束后，系统会自动触发该事件</li>
</ul></div><div class="mod-footer"></div></div></div></div></div></div><div class="sidebar-right sidebar"><div class="sidebar-handle"></div><div class="sidebar-topbar"><div class="topbar-content"></div><div class="clickable-icon sidebar-collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="100%" height="100%" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3" stroke-linecap="round" stroke-linejoin="round" class="svg-icon"><path d="M21 3H3C1.89543 3 1 3.89543 1 5V19C1 20.1046 1.89543 21 3 21H21C22.1046 21 23 20.1046 23 19V5C23 3.89543 22.1046 3 21 3Z"></path><path d="M10 4V20"></path><path d="M4 7H7"></path><path d="M4 10H7"></path><path d="M4 13H7"></path></svg></div></div><div class="sidebar-content"><div class="graph-view-wrapper"><div class="sidebar-section-header">Interactive Graph</div><div class="graph-view-placeholder">
		<div class="graph-view-container">
			<div class="graph-icon graph-expand" role="button" aria-label="Expand" data-tooltip-position="top"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon"><line x1="7" y1="17" x2="17" y2="7"></line><polyline points="7 7 17 7 17 17"></polyline></svg></div>
			<canvas id="graph-canvas" class="hide" width="512px" height="512px"></canvas>
		</div>
		</div></div><div class="outline-tree tree-container"><div class="tree-item nav-folder mod-root" data-depth="0"><div class="tree-item-self nav-folder-title"><div class="tree-item-inner nav-folder-title-content">Table Of Contents</div><button class="clickable-icon nav-action-button tree-collapse-all is-collapsed" aria-label="Collapse All"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></svg></button></div><div class="tree-item-children nav-folder-children"><div class="nav-folder-spacer"></div><div class="tree-item is-collapsed" data-depth="1"><a class="tree-item-self is-clickable" href="知识库/工作技能/spring/springboot-启动扩展点_常用接口_springboot-有哪些拓展点接口.html#SpringBoot 启动扩展点_常用接口_springboot 有哪些拓展点接口" data-path="#SpringBoot 启动扩展点_常用接口_springboot 有哪些拓展点接口"><div class="tree-item-inner heading-link" heading-name="SpringBoot 启动扩展点_常用接口_springboot 有哪些拓展点接口">SpringBoot 启动扩展点_常用接口_springboot 有哪些拓展点接口</div></a><div class="tree-item-children"><div class="tree-item is-collapsed" data-depth="2"><a class="tree-item-self is-clickable" href="知识库/工作技能/spring/springboot-启动扩展点_常用接口_springboot-有哪些拓展点接口.html#SpringBoot常用的接口" data-path="#SpringBoot常用的接口"><div class="tree-item-inner heading-link" heading-name="SpringBoot常用的接口">SpringBoot常用的接口</div></a><div class="tree-item-children"></div></div><div class="tree-item is-collapsed" data-depth="2"><a class="tree-item-self is-clickable" href="知识库/工作技能/spring/springboot-启动扩展点_常用接口_springboot-有哪些拓展点接口.html#ApplicationContextInitializer" data-path="#ApplicationContextInitializer"><div class="tree-item-inner heading-link" heading-name="ApplicationContextInitializer">ApplicationContextInitializer</div></a><div class="tree-item-children"></div></div><div class="tree-item is-collapsed" data-depth="2"><a class="tree-item-self is-clickable" href="知识库/工作技能/spring/springboot-启动扩展点_常用接口_springboot-有哪些拓展点接口.html#BeanDefinitionRegistryPostProcessor" data-path="#BeanDefinitionRegistryPostProcessor"><div class="tree-item-inner heading-link" heading-name="BeanDefinitionRegistryPostProcessor">BeanDefinitionRegistryPostProcessor</div></a><div class="tree-item-children"></div></div><div class="tree-item is-collapsed" data-depth="2"><a class="tree-item-self is-clickable" href="知识库/工作技能/spring/springboot-启动扩展点_常用接口_springboot-有哪些拓展点接口.html#BeanFactoryPostProcessor" data-path="#BeanFactoryPostProcessor"><div class="tree-item-inner heading-link" heading-name="BeanFactoryPostProcessor">BeanFactoryPostProcessor</div></a><div class="tree-item-children"></div></div><div class="tree-item is-collapsed" data-depth="2"><a class="tree-item-self is-clickable" href="知识库/工作技能/spring/springboot-启动扩展点_常用接口_springboot-有哪些拓展点接口.html#InstantiationAwareBeanPostProcessor" data-path="#InstantiationAwareBeanPostProcessor"><div class="tree-item-inner heading-link" heading-name="InstantiationAwareBeanPostProcessor">InstantiationAwareBeanPostProcessor</div></a><div class="tree-item-children"></div></div><div class="tree-item is-collapsed" data-depth="2"><a class="tree-item-self is-clickable" href="知识库/工作技能/spring/springboot-启动扩展点_常用接口_springboot-有哪些拓展点接口.html#SmartInstantiationAwareBeanPostProcessor" data-path="#SmartInstantiationAwareBeanPostProcessor"><div class="tree-item-inner heading-link" heading-name="SmartInstantiationAwareBeanPostProcessor">SmartInstantiationAwareBeanPostProcessor</div></a><div class="tree-item-children"></div></div><div class="tree-item is-collapsed" data-depth="2"><a class="tree-item-self is-clickable" href="知识库/工作技能/spring/springboot-启动扩展点_常用接口_springboot-有哪些拓展点接口.html#BeanFactoryAware" data-path="#BeanFactoryAware"><div class="tree-item-inner heading-link" heading-name="BeanFactoryAware">BeanFactoryAware</div></a><div class="tree-item-children"></div></div><div class="tree-item is-collapsed" data-depth="2"><a class="tree-item-self is-clickable" href="知识库/工作技能/spring/springboot-启动扩展点_常用接口_springboot-有哪些拓展点接口.html#ApplicationContextAwareProcessor" data-path="#ApplicationContextAwareProcessor"><div class="tree-item-inner heading-link" heading-name="ApplicationContextAwareProcessor">ApplicationContextAwareProcessor</div></a><div class="tree-item-children"></div></div><div class="tree-item is-collapsed" data-depth="2"><a class="tree-item-self is-clickable" href="知识库/工作技能/spring/springboot-启动扩展点_常用接口_springboot-有哪些拓展点接口.html#BeanNameAware" data-path="#BeanNameAware"><div class="tree-item-inner heading-link" heading-name="BeanNameAware">BeanNameAware</div></a><div class="tree-item-children"></div></div><div class="tree-item is-collapsed" data-depth="2"><a class="tree-item-self is-clickable" href="知识库/工作技能/spring/springboot-启动扩展点_常用接口_springboot-有哪些拓展点接口.html#@PostConstruct" data-path="#@PostConstruct"><div class="tree-item-inner heading-link" heading-name="@PostConstruct">@PostConstruct</div></a><div class="tree-item-children"></div></div><div class="tree-item is-collapsed" data-depth="2"><a class="tree-item-self is-clickable" href="知识库/工作技能/spring/springboot-启动扩展点_常用接口_springboot-有哪些拓展点接口.html#InitializingBean" data-path="#InitializingBean"><div class="tree-item-inner heading-link" heading-name="InitializingBean">InitializingBean</div></a><div class="tree-item-children"></div></div><div class="tree-item is-collapsed" data-depth="2"><a class="tree-item-self is-clickable" href="知识库/工作技能/spring/springboot-启动扩展点_常用接口_springboot-有哪些拓展点接口.html#FactoryBean" data-path="#FactoryBean"><div class="tree-item-inner heading-link" heading-name="FactoryBean">FactoryBean</div></a><div class="tree-item-children"></div></div><div class="tree-item is-collapsed" data-depth="2"><a class="tree-item-self is-clickable" href="知识库/工作技能/spring/springboot-启动扩展点_常用接口_springboot-有哪些拓展点接口.html#SmartInitializingSingleton" data-path="#SmartInitializingSingleton"><div class="tree-item-inner heading-link" heading-name="SmartInitializingSingleton">SmartInitializingSingleton</div></a><div class="tree-item-children"></div></div><div class="tree-item is-collapsed" data-depth="2"><a class="tree-item-self is-clickable" href="知识库/工作技能/spring/springboot-启动扩展点_常用接口_springboot-有哪些拓展点接口.html#CommandLineRunner" data-path="#CommandLineRunner"><div class="tree-item-inner heading-link" heading-name="CommandLineRunner">CommandLineRunner</div></a><div class="tree-item-children"></div></div><div class="tree-item is-collapsed" data-depth="2"><a class="tree-item-self is-clickable" href="知识库/工作技能/spring/springboot-启动扩展点_常用接口_springboot-有哪些拓展点接口.html#DisposableBean" data-path="#DisposableBean"><div class="tree-item-inner heading-link" heading-name="DisposableBean">DisposableBean</div></a><div class="tree-item-children"></div></div><div class="tree-item is-collapsed" data-depth="2"><a class="tree-item-self is-clickable" href="知识库/工作技能/spring/springboot-启动扩展点_常用接口_springboot-有哪些拓展点接口.html#ApplicationListener" data-path="#ApplicationListener"><div class="tree-item-inner heading-link" heading-name="ApplicationListener">ApplicationListener</div></a><div class="tree-item-children"></div></div></div></div></div></div></div></div><script defer="">let rs = document.querySelector(".sidebar-right"); rs.classList.add("is-collapsed"); if (window.innerWidth > 768) rs.classList.remove("is-collapsed"); rs.style.setProperty("--sidebar-width", localStorage.getItem("sidebar-right-width"));</script></div></div></body></html>